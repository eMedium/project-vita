(()=>{"use strict";function e(e){return e<10?e:10+5*(e-10)}callAction("addMission",{id:"research_1",priority:1,title:"Research CPU Blueprint",description:"Research new CPU!",reward:{type:"cash",amount:1e3},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"",mainTargetComponent:"confirm-research-1",targetComponents:["open-window-research"]}),callAction("addMission",{id:"develop_cpu_1",priority:2,title:"develop_cpu_1",description:"Begin developing new CPU!",reward:{type:"diamonds",amount:5},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"",mainTargetComponent:"confirm-develop-cpu",targetComponents:["open-window-hardware"]}),callAction("addMission",{id:"release_cpu_1",priority:3,title:"release_cpu_1",description:"Release and start selling new CPU!",reward:{type:"diamonds",amount:5},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"",mainTargetComponent:"confirm-release-cpu",targetComponents:["open-window-release"],unlockThing:"open-window-market"}),callAction("addMission",{id:"start_marketing_1",priority:20,title:"Start Marketing Campaign",description:"Launch your first marketing campaign to increase CPU popularity!",reward:{type:"cash",amount:2e3},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"MarketingMenu",mainTargetComponent:"confirm-marketing-campaign-enable",targetComponents:["open-window-market","open-bookmark-Marketing","select-marketing-campaign-flyers"],unlockThing:"open-window-office-rooms"}),callAction("addMission",{id:"hire_salesroom_employee_2_2",priority:30,title:"Hire Sales Employee",description:"Hire your first Sales employee to manage CPU sales!",reward:{type:"cash",amount:1500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"OfficeManager",mainTargetComponent:"confirm-upgrade-employee-2-2",targetComponents:["open-window-office-rooms","open-bookmark-Workers"]}),callAction("addMission",{id:"build_researchroom_3",priority:40,title:"Build Research Room",description:"Build a Research Room to start developing new technologies!",reward:{type:"cash",amount:3e3},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"OfficeManager",mainTargetComponent:"confirm-build-room-3",targetComponents:["open-window-office-rooms"]}),callAction("addMission",{id:"hire_researchroom_employee_3_0",priority:45,title:"Hire Research Employee",description:"Hire your first Research employee to start researching!",reward:{type:"cash",amount:2e3},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"OfficeManager",mainTargetComponent:"confirm-upgrade-employee-3-0",targetComponents:["open-window-office-rooms"]}),callAction("addMission",{id:"build_developmentroom_4",priority:50,title:"Build Development Room",description:"Build a Development Room to improve CPU designs!",reward:{type:"cash",amount:3500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"OfficeManager",mainTargetComponent:"confirm-build-room-4",targetComponents:["open-window-office-rooms"]}),callAction("addMission",{id:"hire_developmentroom_employee_4_0",priority:55,title:"Hire Development Employee",description:"Hire your first Development employee to enhance CPU designs!",reward:{type:"cash",amount:2500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"OfficeManager",mainTargetComponent:"confirm-upgrade-employee-4-0",targetComponents:["open-window-office-rooms"]}),callAction("addMission",{id:"upgrade_salesroom_furniture_2_0",priority:60,title:"Upgrade Sales Room",description:"Upgrade your Sales Room to increase employee productivity!",reward:{type:"cash",amount:2500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"OfficeManager",mainTargetComponent:"confirm-upgrade-furniture-2-0",targetComponents:["open-window-office-rooms","open-bookmark-Rooms"]}),callAction("addMission",{id:"mission_label_click",priority:65,title:"Click Mission Label",description:"Click on the mission label to quickly access the mission target windows!",reward:{type:"cash",amount:2500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"ListOfMissions",mainTargetComponent:"main-mission-label",targetComponents:[]}),callAction("addMission",{id:"take_reward_from_mission",priority:70,title:"Take Reward from Mission",description:"Take your reward from the completed mission!",reward:{type:"cash",amount:2500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"ListOfMissions",mainTargetComponent:"claim-reward-for-mission_label_click",targetComponents:[]}),callAction("addMission",{id:"mission_icon_click",priority:75,title:"Click Mission Icon",description:"Click on the mission icon to open the mission screen!",reward:{type:"cash",amount:2500},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"ListOfMissions",mainTargetComponent:"open-mission-screen",targetComponents:[]}),callAction("addMission",{id:"levelup_consumer_1",priority:100,title:"Grow Your Consumer Base",description:"Level up any consumer group to increase your market presence!",reward:{type:"cash",amount:3e3},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"ConsumentsMenu",mainTargetComponent:"enable-confirm-consumer-levelup-techEnthusiast",targetComponents:["open-window-market","open-bookmark-Consuments","select-consument-avatar-techEnthusiast"]}),on("onMissionRewardCollected",(async e=>{const o=e.missionId;console.log("Mission reward collected:",o),"mission_label_click"===o&&(console.log("Take reward from mission mission completed"),callAction("completeMission","take_reward_from_mission"))})),on("onMissionLabelClicked",(async e=>{const o=e.mission;console.log("Mission label clicked:",o),"mission_label_click"===o.id&&(console.log("Mission label click mission completed"),callAction("completeMission","mission_label_click"))})),on("onMissionScreenOpened",(async e=>{callAction("completeMission","mission_icon_click")})),on("onMarketingCampaignStarted",(async e=>{callAction("completeMission","start_marketing_1")})),on("onConsumerLevelUp",(async e=>{callAction("completeMission","levelup_consumer_1")})),on("onRoomBuilt",(async e=>{const{floorId:o,roomId:t,roomType:i}=e,n=`build_${i.toLowerCase()}_${t}`;callAction("completeMission",n)})),on("onEmployeeAssignedToRoom",(async e=>{const o=`hire_${e.roomType.toLowerCase()}_employee_${e.roomId}_${e.employeeIndex}`;callAction("completeMission",o)})),on("onFurnitureUpgrade",(async e=>{const o=`upgrade_${e.roomType.toLowerCase()}_furniture_${e.roomId}_${e.furnitureIndex}`;callAction("completeMission",o)})),on("onResearchCompleted",(async e=>{const{project:o}=e;if(!o)return void console.error("No project data provided in onResearchCompleted event");console.log("Research project completed:",o.name),console.log("Project details:",o);const t="research_"+o.ID.toString();callAction("completeMission",t)})),on("onResearchAvailable",(async e=>{const{project:o}=e;if(!o)return void console.error("No project data provided in onResearchAvailable event");console.log("New research project available:",o.title),console.log("Project details:",o);const t="research_"+o.ID.toString();await callAction("doesMissionExist",t)?console.log(`Mission with ID ${t} already exists, skipping.`):(callAction("addMission",{id:t,priority:1e3+o.cost+10,title:`Research ${o.name}`,description:`Complete research for project: ${o.name}`,reward:{type:"cash",amount:10*o.cost},isCompleted:!1,isRewardCollected:!1,value:0,targetValue:1,targetScreen:"Research",mainTargetComponent:"confirm-research-"+o.ID,targetComponents:[]}),console.log(`Mission added: ${t}`))})),on("onPlayerHardwareReleased",(async e=>{const{product:o}=e;if(!o)return void console.error("No hardware data provided in onPlayerHardwareReleased event",e);console.log("Hardware released:",o.name),console.log("Hardware details:",o);const t=await getState("statistics.releasedCpuCounter");console.log("Already released CPUs:",t);const i="release_cpu_"+t.toString();callAction("completeMission",i)})),on("onHardwareDevelopmentStarted",(async o=>{let t=await getData("missionNumber");if(console.log("onHardwareDevelopmentStarted",t),("number"!=typeof t||"object"==typeof t&&0===Object.keys(t).length)&&(t=1,await setData("missionNumber",t)),"number"!=typeof t||t<0)return void console.log("Invalid mission number",t);const i=await getState("statisticsSlice.developmentStartedCounter"),n=e(t);if(i<n)return void console.log("Not enough hardware released to complete mission",t,i,n);const a="develop_cpu_"+t.toString();callAction("completeMission",a),console.log("complete mission: "+a,t),t+=1,await setData("missionNumber",t);const r="develop_cpu_"+t.toString(),s=e(t);callAction("addMission",{id:r,priority:1e3+5*(t-1),title:r,description:"Begin developing another CPU!",reward:{type:"diamonds",amount:2*s},isCompleted:!1,isRewardCollected:!1,value:i,targetValue:s,targetScreen:"HardwareDevelopment",mainTargetComponent:"confirm-develop-cpu",targetComponents:[]}),console.log("add mission: develop_cpu_"+t)}))})();